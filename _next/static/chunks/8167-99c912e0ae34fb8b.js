"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8167],{88556:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(37876),r=n(14232);let a=e=>{let{previousBalance:t,newBalance:n,amountAdded:a,reason:i,onAnimationComplete:l}=e,[s,d]=(0,r.useState)(t),[c,p]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{p(!0);let e=(n-t)/60,o=0,r=setInterval(()=>{let a=t+e*++o;o>=60?(d(n),p(!1),clearInterval(r),setTimeout(()=>{l()},1500)):d(a)},2e3/60);return()=>clearInterval(r)},[t,n,l]),(0,o.jsxs)("div",{className:"mb-6 p-4 rounded-xl animate-pulse",style:{background:"linear-gradient(135deg, rgba(255, 215, 0, 0.5) 0%, rgba(250, 204, 21, 0.35) 50%, rgba(255, 193, 7, 0.2) 100%)",backdropFilter:"blur(25px) saturate(200%)",border:"2px solid rgba(255, 215, 0, 0.6)",boxShadow:"rgba(250, 204, 21, 0.3) 0px 4px 16px, rgba(255, 255, 255, 0.4) 0px 1px 0px inset"},children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"text-3xl animate-bounce",children:"\uD83C\uDF89"}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("h3",{className:"text-yellow-300 font-bold text-lg mb-2",children:"Store Credit Updated!"}),(0,o.jsxs)("div",{className:"space-y-1",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 text-yellow-200 text-sm",children:[(0,o.jsx)("span",{children:"Credit Balance:"}),(0,o.jsxs)("span",{className:"font-bold text-xl transition-all duration-300 ".concat(c?"text-green-300 scale-110":"text-yellow-100"),children:["$",s.toFixed(2)]})]}),(0,o.jsxs)("div",{className:"text-yellow-200 text-xs opacity-80",children:["+$",a.toFixed(2)," earned from your recent order"]}),i&&(0,o.jsx)("div",{className:"text-yellow-200 text-xs mt-1 opacity-70",children:i})]})]}),(0,o.jsx)("button",{onClick:l,className:"text-yellow-300 hover:text-yellow-100 transition-colors opacity-70 hover:opacity-100",title:"Close notification","aria-label":"Close credit notification",children:(0,o.jsx)("i",{className:"fas fa-times"})})]}),(0,o.jsx)("div",{className:"mt-3 bg-yellow-400/20 rounded-full h-1 overflow-hidden",children:(0,o.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-300 h-full transition-all duration-100 ease-out",style:{width:"".concat((s-t)/(n-t)*100,"%")}})})]})}},88852:(e,t,n)=>{n.d(t,{A:()=>i}),n(14232);var o=n(14312),r=n(43028),a=n.n(r);let i=e=>{let t=async t=>{console.log("\uD83E\uDDFE Starting PDF generation:",t),console.log("\uD83E\uDDFE Invoice data:",e),console.log("\uD83E\uDDFE Raw invoice data received:",e);let n=e.orderNumber||e.id||"SS-FALLBACK";if(console.log("\uD83E\uDDFE Final order number for invoice:",n),!n||"SS-FALLBACK"===n){console.error("❌ Missing order number in invoice data"),console.error("❌ Invoice data keys:",Object.keys(e)),console.error("❌ Invoice orderNumber:",e.orderNumber),console.error("❌ Invoice id:",e.id),alert("Error: Order number is missing. Please refresh the page and try again.");return}if(!e.items||0===e.items.length){console.error("❌ No items found in invoice data"),alert("Error: No order items found. Please refresh the page and try again.");return}let r=document.createElement("div");r.style.position="absolute",r.style.left="-9999px",r.style.top="0",r.style.width="210mm",r.style.backgroundColor="white",r.style.color="black",r.style.fontFamily="Arial, sans-serif",r.style.fontSize="12px",r.style.lineHeight="1.4",r.style.padding="20px",r.innerHTML='\n      <div style="max-width: 800px; margin: 0 auto; background: white; color: black;">\n        \x3c!-- Header --\x3e\n        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; border-bottom: 2px solid #030140; padding-bottom: 20px;">\n          <div style="flex: 1; display: flex; align-items: center;">\n            <div style="display: flex; align-items: center;">\n              <img src="https://res.cloudinary.com/dxcnvqk6b/image/upload/v1751567428/LogoDarktGreyStickerShuttle_lpvvnc.png" alt="Sticker Shuttle" style="height: 40px; width: auto; margin-right: 10px;" />\n            </div>\n          </div>\n          <div style="text-align: right; flex: 1;">\n            <h1 style="margin: 0; color: #030140; font-size: 28px; font-weight: bold;">INVOICE</h1>\n            <p style="margin: 5px 0; color: #666; font-size: 14px;">'.concat(n,'</p>\n          </div>\n        </div>\n\n        \x3c!-- Company & Customer Info --\x3e\n        <div style="display: flex; justify-content: space-between; margin-bottom: 30px;">\n          <div style="width: 48%;">\n            <h3 style="margin: 0 0 10px 0; color: #030140; font-size: 16px;">From:</h3>\n            <div style="color: #333; line-height: 1.6;">\n              <strong>Sticker Shuttle</strong><br/>\n              2981 S Harrison St.<br/>\n              Denver, CO 80210<br/>\n                              Email: orbit@stickershuttle.com<br/>\n              Website: stickershuttle.com\n            </div>\n          </div>\n          <div style="width: 48%;">\n            <h3 style="margin: 0 0 10px 0; color: #030140; font-size: 16px;">Bill To:</h3>\n            <div style="color: #333; line-height: 1.6;">\n              ').concat((()=>{var t,n,o,r,a,i;let l=e.billingAddress,s=e.customerInfo,d=e.customerEmail||(null==s?void 0:s.email);return l?"\n                    ".concat(l.first_name||l.last_name?"<strong>".concat([l.first_name,l.last_name].filter(Boolean).join(" "),"</strong><br/>"):"","\n                    ").concat(l.company?"".concat(l.company,"<br/>"):"","\n                    ").concat(d?"".concat(d,"<br/>"):"","\n                    ").concat(l.phone?"".concat(l.phone,"<br/>"):"","\n                    ").concat(l.address1?"".concat(l.address1,"<br/>"):"","\n                    ").concat(l.address2?"".concat(l.address2,"<br/>"):"","\n                    ").concat(l.city||l.province||l.zip?"".concat([l.city,l.province,l.zip].filter(Boolean).join(", "),"<br/>"):"","\n                    ").concat(l.country?"".concat(l.country):"","\n                  "):s?"\n                    ".concat(s.name?"<strong>".concat(s.name,"</strong><br/>"):"","\n                    ").concat(d?"".concat(d,"<br/>"):"","\n                    ").concat(s.phone?"".concat(s.phone,"<br/>"):"","\n                    ").concat((null==(t=s.address)?void 0:t.line1)?"".concat(s.address.line1,"<br/>"):"","\n                    ").concat((null==(n=s.address)?void 0:n.line2)?"".concat(s.address.line2,"<br/>"):"","\n                    ").concat((null==(o=s.address)?void 0:o.city)||(null==(r=s.address)?void 0:r.state)||(null==(a=s.address)?void 0:a.zip)?"".concat([s.address.city,s.address.state,s.address.zip].filter(Boolean).join(", "),"<br/>"):"","\n                    ").concat((null==(i=s.address)?void 0:i.country)?"".concat(s.address.country):"","\n                  "):"\n                    ".concat(d?"".concat(d,"<br/>"):"",'\n                    <em style="color: #999;">Billing address not available</em>\n                  ')})(),'\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Order Details --\x3e\n        <div style="display: flex; justify-content: space-between; margin-bottom: 30px; background: #f8f9fa; padding: 15px; border-radius: 8px;">\n          <div>\n            <strong style="color: #030140;">Order Date:</strong><br/>\n            ').concat(new Date(e.orderDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),"\n          </div>\n          ").concat(e.trackingNumber?'\n          <div>\n            <strong style="color: #030140;">Tracking:</strong><br/>\n            '.concat(e.trackingNumber,"\n            ").concat(e.trackingCompany?"<br/><small>(".concat(e.trackingCompany,")</small>"):"","\n          </div>\n          "):"",'\n        </div>\n\n        \x3c!-- Items Table --\x3e\n        <table style="width: 100%; border-collapse: collapse; margin-bottom: 30px;">\n          <thead>\n            <tr style="background: #030140; color: white;">\n              <th style="padding: 12px; text-align: center; border: 1px solid #ddd; width: 80px;">Image</th>\n              <th style="padding: 12px; text-align: left; border: 1px solid #ddd;">Item</th>\n              <th style="padding: 12px; text-align: center; border: 1px solid #ddd; width: 80px;">Qty</th>\n              <th style="padding: 12px; text-align: right; border: 1px solid #ddd; width: 100px;">Unit Price</th>\n              <th style="padding: 12px; text-align: right; border: 1px solid #ddd; width: 100px;">Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            ').concat(e.items.map((e,t)=>'\n              <tr style="border-bottom: 1px solid #ddd; '.concat(t%2==0?"background: #f8f9fa;":"",'">\n                <td style="padding: 12px; border: 1px solid #ddd; text-align: center; vertical-align: top;">\n                  <div style="width: 60px; height: 60px; margin: 0 auto; display: flex; align-items: center; justify-content: center; border-radius: 4px; border: 1px solid #ddd; overflow: hidden; background: #f8f9fa;">\n                    ').concat(e.customFiles&&e.customFiles[0]?'\n                      <img src="'.concat(e.customFiles[0],'" \n                           alt="').concat(e.productName,"\" \n                           style=\"max-width: 100%; max-height: 100%; object-fit: contain;\" \n                           onerror=\"this.style.display='none'; this.parentElement.innerHTML='<span style=\\'font-size: 10px; color: #999;\\'>No Image</span>';\" />\n                    "):'\n                      <span style="font-size: 10px; color: #999;">No Image</span>\n                    ','\n                  </div>\n                </td>\n                <td style="padding: 12px; border: 1px solid #ddd; vertical-align: top;">\n                                    <strong style="color: #030140;">').concat(e.productName,"</strong>\n                  ").concat((()=>{if(!e.calculatorSelections)return"";console.log("\uD83E\uDDFE Invoice calculator selections for item:",e.productName,e.calculatorSelections);let t=e=>{switch(e.toLowerCase()){case"sizepreset":case"size":return"Size";case"whiteoption":case"whitebase":return"White Ink";case"cut":return"Shape";case"material":return"Material";case"rush":return"Rush Order";case"proof":return"Proof";case"instagram":return"Instagram";default:return e.charAt(0).toUpperCase()+e.slice(1).replace(/([A-Z])/g," $1").trim()}},n=Object.entries(e.calculatorSelections).filter(e=>{let[t,n]=e,o=n&&("object"==typeof n&&(n.displayValue||n.value)||"string"==typeof n&&""!==n.trim()||"number"==typeof n||"boolean"==typeof n);return console.log("\uD83E\uDDFE Filter check for "+t+":",n,"hasValue:",o),o}).map(e=>{let n,[o,r]=e;return console.log("\uD83E\uDDFE Displaying "+o+":",n="object"==typeof r&&null!==r&&(r.displayValue||r.value)||String(r)),"• "+t(o)+": "+n}).join("<br/>");return n?'<div style="margin-top: 8px; font-size: 11px; color: #666;">'+n+"</div>":""})(),"\n                  ").concat(e.customerNotes?'\n                    <div style="margin-top: 8px; font-size: 11px; color: #666; font-style: italic;">\n                      Notes: '.concat(e.customerNotes,"\n                    </div>\n                  "):"",'\n                </td>\n                <td style="padding: 12px; border: 1px solid #ddd; text-align: center; vertical-align: top; font-weight: bold;">\n                  ').concat(e.quantity,'\n                </td>\n                <td style="padding: 12px; border: 1px solid #ddd; text-align: right; vertical-align: top;">\n                  $').concat(e.unitPrice.toFixed(2),'\n                </td>\n                <td style="padding: 12px; border: 1px solid #ddd; text-align: right; vertical-align: top; font-weight: bold;">\n                  $').concat(e.totalPrice.toFixed(2),"\n                </td>\n              </tr>\n            ")).join(""),'\n          </tbody>\n        </table>\n\n        \x3c!-- Totals --\x3e\n        <div style="display: flex; justify-content: flex-end; margin-bottom: 30px;">\n          <div style="width: 300px;">\n            <div style="display: flex; justify-content: space-between; padding: 10px 0; border-top: 1px solid #ddd;">\n              <span>Subtotal:</span>\n              <span>$').concat((e.subtotal||e.items.reduce((e,t)=>e+t.totalPrice,0)).toFixed(2),"</span>\n            </div>\n            ").concat(e.tax?'\n            <div style="display: flex; justify-content: space-between; padding: 10px 0; border-top: 1px solid #ddd;">\n              <span>Tax:</span>\n              <span>$'.concat(e.tax.toFixed(2),"</span>\n            </div>\n            "):"",'\n            <div style="display: flex; justify-content: space-between; padding: 10px 0; border-top: 1px solid #ddd;">\n              <span>Shipping:</span>\n              <span>').concat(0===e.shipping||!e.shipping?"FREE":"$"+e.shipping.toFixed(2),'</span>\n            </div>\n            <div style="display: flex; justify-content: space-between; padding: 10px 0; border-top: 2px solid #030140; font-weight: bold; font-size: 16px; color: #030140;">\n              <span>Total:</span>\n              <span>$').concat(e.totalPrice.toFixed(2)," ").concat(e.currency,'</span>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Footer --\x3e\n        <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; font-size: 11px;">\n          <p style="margin: 5px 0;">Thank you for choosing Sticker Shuttle!</p>\n                          <p style="margin: 5px 0;">For questions about this invoice, contact us at orbit@stickershuttle.com</p>\n          <p style="margin: 5px 0;">Visit us at stickershuttle.com</p>\n        </div>\n      </div>\n    '),document.body.appendChild(r);try{let n=r.querySelectorAll("img");await Promise.all(Array.from(n).map(e=>new Promise(t=>{e.complete?t(!0):(e.onload=()=>t(!0),e.onerror=()=>t(!0),setTimeout(()=>t(!0),3e3))})));let i=await a()(r,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:r.offsetWidth,height:r.offsetHeight}),l=i.toDataURL("image/png"),s=new o.Ay("p","mm","a4"),d=s.internal.pageSize.getWidth(),c=s.internal.pageSize.getHeight(),p=d-20,g=i.height*p/i.width,x=g,m=10;for(s.addImage(l,"PNG",10,m,p,g),x-=c-20;x>=0;)m=x-g+10,s.addPage(),s.addImage(l,"PNG",10,m,p,g),x-=c-20;if("print"===t){let e=s.output("blob"),t=URL.createObjectURL(e),n=window.open(t);n&&(n.onload=()=>{n.print()})}else s.save("invoice-".concat(e.orderNumber.replace("#",""),".pdf"))}catch(n){console.error("❌ Error generating PDF:",n);let e=n instanceof Error?n.message:"Unknown error occurred",t=n instanceof Error?n.stack:"No stack trace available";console.error("❌ Error details:",e),console.error("❌ Error stack:",t),alert("Error generating PDF: ".concat(e,". Please try again or contact support."))}finally{try{r&&document.body.contains(r)&&document.body.removeChild(r)}catch(e){console.error("❌ Error during cleanup:",e)}}};return{generatePrintPDF:()=>t("print"),generateDownloadPDF:()=>t("download")}}}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="7e385f20-730f-52c6-ac79-40dcc323c083")}catch(e){}}();
//# debugId=7e385f20-730f-52c6-ac79-40dcc323c083
